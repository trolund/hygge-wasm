// Return a function that counts how many times it is called
fun makeCounter(y: int): () -> int = {
    let mutable x: int = 2;
    fun () ->
        x <- x * y // x is captured from the surrounding scope
};

// This is interpreted and compiled incorrectly!
let c1: () -> int = makeCounter(2);
let c2: () -> int = makeCounter(4);
assert(c1() = 4);
assert(c1() = 8);
assert(c2() = 8)