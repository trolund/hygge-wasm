let x: float = 5.0f;
let y: float = 7.0f;

fun makeCounter(x: float, y: bool): () -> float = {
    let mutable a: float = 3.0f;
    fun () -> {
        if (y) then {
            a <- x + a
        } 
        else {
            a <- x + a + 2.0f
        }
        a
    }
};

let c1: () -> float = makeCounter(2.0f, true);
let c2: () -> float = makeCounter(2.0f, false);
assert(c1() = x); // 5.0f
assert(c2() = y)  // 7.0f