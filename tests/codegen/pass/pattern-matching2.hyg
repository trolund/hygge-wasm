type OptionalInt = union {
    Some: int;
    None: unit
};

fun maybeIncrement(o: OptionalInt): int =
    match o with {
        Some{x} -> x + 1;
        None{_} -> x
    };

let y: int = maybeIncrement(Some{41});

assert(y = 42)