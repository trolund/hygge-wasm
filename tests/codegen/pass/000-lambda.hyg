// Return a function that counts how many times it is called
fun makeCounter(): () -> int = {
    let mutable x: int = 1;
    fun () ->
        x <- x + 1 // x is captured from the surrounding scope
};

// This is interpreted and compiled incorrectly!
let c1: () -> int = makeCounter();
let c2: () -> int = makeCounter();
assert(c1() = 2);
assert(c1() = 3);
assert(c2() = 2)